<div class="bg-gradient-to-b from-white to-blue-50 min-h-screen">
  <div class="max-w-7xl mx-auto px-6 py-10">
    <h1 class="text-3xl font-bold text-gray-900 mb-8">Feed</h1>

    <div *ngIf="loading" class="text-center text-gray-500 py-20">
      <div
        class="animate-spin h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4 rounded-full"
      ></div>
      Loading diary entries...
    </div>

    <div
      *ngIf="!loading && diaryEntries.length === 0"
      class="text-center text-gray-500 py-20"
    >
      No diary entries found.
    </div>

    <div
      *ngIf="!loading && diaryEntries.length > 0"
      class="grid gap-6 md:grid-cols-2 lg:grid-cols-3"
    >
      <a
        *ngFor="let entry of diaryEntries"
        [routerLink]="['/diary', entry.id]"
        class="block bg-white border border-gray-100 rounded-xl shadow-xl hover:shadow-2xl hover:scale-102 transition duration-200 overflow-hidden"
      >
        <div
          *ngIf="getFirstImage(entry.content)"
          class="aspect-w-16 aspect-h-9"
        >
          <img
            [src]="getFirstImage(entry.content)"
            [alt]="getSEO(entry).title"
            class="w-full h-48 object-cover rounded-t-xl"
          />
        </div>

        <div class="p-6">
          <h2 class="text-xl font-semibold text-gray-900 tracking-tight mb-2">
            {{ getSEO(entry).title || "Untitled Entry" }}
          </h2>

          <p *ngIf="entry.content" class="text-gray-600 mb-4 line-clamp-3">
            {{ getExcerpt(entry.content) }}
          </p>

          <div class="flex items-center justify-between text-sm text-gray-500">
            <span>{{
              entry.created_dt ? (entry.created_dt | date) : "No date"
            }}</span>
            <span *ngIf="entry.content">
              {{ getReadingTime(entry.content) }} min read
            </span>
          </div>

          <div *ngIf="entry.tags?.length > 0" class="mt-4 flex flex-wrap gap-2">
            <span
              *ngFor="let tag of entry.tags.slice(0, 3)"
              class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full"
            >
              {{ tag }}
            </span>
          </div>
        </div>
      </a>
    </div>
  </div>
</div>
